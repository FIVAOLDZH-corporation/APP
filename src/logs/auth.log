{"level":"info","ts":"2025-04-28T08:16:41.290+0300","caller":"v1/auth.go:69","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","aboba@aboba.aboba","password","@b0b@123123"]}
{"level":"error","ts":"2025-04-28T08:16:41.297+0300","caller":"v1/auth.go:75","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:16:41.297+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 8.134073ms","context":null}
{"level":"info","ts":"2025-04-28T08:17:02.662+0300","caller":"v1/auth.go:69","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","@b0b@123123"]}
{"level":"error","ts":"2025-04-28T08:17:02.667+0300","caller":"v1/auth.go:75","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:17:02.668+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 6.329233ms","context":null}
{"level":"info","ts":"2025-04-28T08:20:06.048+0300","caller":"v1/auth.go:69","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:20:06.110+0300","caller":"v1/auth.go:79","msg":"Register: Making request to Login usecase","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:20:06.110+0300","caller":"v1/auth.go:97","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:20:06.117+0300","caller":"v1/auth.go:106","msg":"Login: Got user","context":["user",{"id":"36bdd5ee-4b17-4594-b8e4-276fbbf7ff4f","username":"aboba","email":"mpnmbn@gmail.com","role":"user","password_hash":"$2a$10$2fWLCeBZQO7MnqMPA0hyRuO6fiKHPzpKfudq/CM96qlmh7BqXFs5a"}]}
{"level":"info","ts":"2025-04-28T08:20:06.199+0300","caller":"v1/auth.go:119","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","36bdd5ee-4b17-4594-b8e4-276fbbf7ff4f","role","user"]}
{"level":"info","ts":"2025-04-28T08:20:06.200+0300","caller":"v1/auth.go:129","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MTg1MDYsImlhdCI6MTc0NTgxNzYwNiwicm9sZSI6InVzZXIiLCJzdWIiOiIzNmJkZDVlZS00YjE3LTQ1OTQtYjhlNC0yNzZmYmJmN2ZmNGYifQ.eYU291x_j4uvDbz821Ph-H2VBPy23whP3IfqyMZg5uc"]}
{"level":"info","ts":"2025-04-28T08:20:06.200+0300","caller":"v1/auth.go:131","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","36bdd5ee-4b17-4594-b8e4-276fbbf7ff4f","role","user"]}
{"level":"info","ts":"2025-04-28T08:20:06.200+0300","caller":"v1/auth.go:141","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjI0MDYsImlhdCI6MTc0NTgxNzYwNiwicm9sZSI6InVzZXIiLCJzdWIiOiIzNmJkZDVlZS00YjE3LTQ1OTQtYjhlNC0yNzZmYmJmN2ZmNGYiLCJ0eXBlIjoicmVmcmVzaCJ9.2MCIkcGMTnEW9Y_mVkGVYZHH4gagMpYNAzIJdkerpLA"]}
{"level":"info","ts":"2025-04-28T08:20:06.200+0300","caller":"v1/auth.go:150","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"f28057bc-c47d-44e9-a468-95412a71bf9b","UserID":"36bdd5ee-4b17-4594-b8e4-276fbbf7ff4f","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjI0MDYsImlhdCI6MTc0NTgxNzYwNiwicm9sZSI6InVzZXIiLCJzdWIiOiIzNmJkZDVlZS00YjE3LTQ1OTQtYjhlNC0yNzZmYmJmN2ZmNGYiLCJ0eXBlIjoicmVmcmVzaCJ9.2MCIkcGMTnEW9Y_mVkGVYZHH4gagMpYNAzIJdkerpLA","CreatedAt":"2025-04-28T08:20:06.200093495+03:00"}]}
{"level":"info","ts":"2025-04-28T08:20:06.204+0300","caller":"v1/auth.go:89","msg":"Register: Logged in","context":["tokens",{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MTg1MDYsImlhdCI6MTc0NTgxNzYwNiwicm9sZSI6InVzZXIiLCJzdWIiOiIzNmJkZDVlZS00YjE3LTQ1OTQtYjhlNC0yNzZmYmJmN2ZmNGYifQ.eYU291x_j4uvDbz821Ph-H2VBPy23whP3IfqyMZg5uc","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjI0MDYsImlhdCI6MTc0NTgxNzYwNiwicm9sZSI6InVzZXIiLCJzdWIiOiIzNmJkZDVlZS00YjE3LTQ1OTQtYjhlNC0yNzZmYmJmN2ZmNGYiLCJ0eXBlIjoicmVmcmVzaCJ9.2MCIkcGMTnEW9Y_mVkGVYZHH4gagMpYNAzIJdkerpLA"}]}
{"level":"info","ts":"2025-04-28T08:20:06.204+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 155.685954ms","context":null}
{"level":"info","ts":"2025-04-28T08:22:06.202+0300","caller":"v1/auth.go:69","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:22:06.258+0300","caller":"v1/auth.go:79","msg":"Register: Making request to Login usecase","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:22:06.258+0300","caller":"v1/auth.go:97","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:22:06.262+0300","caller":"v1/auth.go:102","msg":"Login: Failed to get user by email","context":["err","failed to fetch user: status 404"]}
{"level":"error","ts":"2025-04-28T08:22:06.262+0300","caller":"v1/auth.go:85","msg":"Register: Failed to login","context":["err","Login: Failed to get user by email: failed to get user by email"]}
{"level":"info","ts":"2025-04-28T08:22:06.262+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 60.445602ms","context":null}
{"level":"info","ts":"2025-04-28T08:27:14.479+0300","caller":"v1/auth.go:69","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:27:14.544+0300","caller":"v1/auth.go:79","msg":"Register: Making request to Login usecase","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:27:14.544+0300","caller":"v1/auth.go:97","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:27:14.549+0300","caller":"v1/auth.go:102","msg":"Login: Failed to get user by email","context":["err","failed to fetch user: status 404"]}
{"level":"error","ts":"2025-04-28T08:27:14.549+0300","caller":"v1/auth.go:85","msg":"Register: Failed to login","context":["err","Login: Failed to get user by email: failed to get user by email"]}
{"level":"info","ts":"2025-04-28T08:27:14.549+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 69.999274ms","context":null}
{"level":"info","ts":"2025-04-28T08:34:27.482+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:34:27.540+0300","caller":"v1/auth.go:90","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:34:27.540+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 58.493348ms","context":null}
{"level":"info","ts":"2025-04-28T08:35:20.828+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:35:20.883+0300","caller":"v1/auth.go:90","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:35:20.883+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 55.413905ms","context":null}
{"level":"info","ts":"2025-04-28T08:35:53.702+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:35:53.784+0300","caller":"v1/auth.go:562","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",624555]}
{"level":"error","ts":"2025-04-28T08:35:53.786+0300","caller":"v1/auth.go:580","msg":"SendVerificationEmail: Failed to send verification email","context":["err","dial tcp: lookup smtp.gmail.com on 127.0.0.11:53: server misbehaving"]}
{"level":"error","ts":"2025-04-28T08:35:53.786+0300","caller":"v1/auth.go:101","msg":"Register: Failed to send verification email","context":["err","SendVerificationEmail: Failed to send verification email: failed to send verification email"]}
{"level":"info","ts":"2025-04-28T08:35:53.786+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 84.522927ms","context":null}
{"level":"info","ts":"2025-04-28T08:36:32.483+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:36:32.536+0300","caller":"v1/auth.go:90","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:36:32.536+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 53.341465ms","context":null}
{"level":"info","ts":"2025-04-28T08:36:36.199+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:36:36.265+0300","caller":"v1/auth.go:90","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:36:36.265+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 66.075578ms","context":null}
{"level":"info","ts":"2025-04-28T08:37:11.530+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:37:11.615+0300","caller":"v1/auth.go:562","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",941525]}
{"level":"info","ts":"2025-04-28T08:37:13.213+0300","caller":"v1/auth.go:584","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T08:37:13.214+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.683673562s","context":null}
{"level":"info","ts":"2025-04-28T08:38:20.727+0300","caller":"v1/auth.go:125","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:38:20.732+0300","caller":"v1/auth.go:134","msg":"Login: Got user","context":["user",{"id":"b5a4aea2-b935-4c82-9e0d-c535ddf87cea","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$NxdEPYRvv4HMO7PA3EiPC.XYjvJtZOmeaY4Cke985CxfM0JUwTDly"}]}
{"level":"info","ts":"2025-04-28T08:38:20.797+0300","caller":"v1/auth.go:147","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","b5a4aea2-b935-4c82-9e0d-c535ddf87cea","role","user"]}
{"level":"info","ts":"2025-04-28T08:38:20.797+0300","caller":"v1/auth.go:157","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MTk2MDAsImlhdCI6MTc0NTgxODcwMCwicm9sZSI6InVzZXIiLCJzdWIiOiJiNWE0YWVhMi1iOTM1LTRjODItOWUwZC1jNTM1ZGRmODdjZWEifQ.b2muAihJaeUfVsd6KsPc3rTvODJRNElkT-wuNFJz7OI"]}
{"level":"info","ts":"2025-04-28T08:38:20.797+0300","caller":"v1/auth.go:159","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","b5a4aea2-b935-4c82-9e0d-c535ddf87cea","role","user"]}
{"level":"info","ts":"2025-04-28T08:38:20.797+0300","caller":"v1/auth.go:169","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjM1MDAsImlhdCI6MTc0NTgxODcwMCwicm9sZSI6InVzZXIiLCJzdWIiOiJiNWE0YWVhMi1iOTM1LTRjODItOWUwZC1jNTM1ZGRmODdjZWEiLCJ0eXBlIjoicmVmcmVzaCJ9.SHp-c6MfhHMh_WWmiWDcWd8uDZ04S2h-OtQP3TYXTWc"]}
{"level":"info","ts":"2025-04-28T08:38:20.797+0300","caller":"v1/auth.go:178","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"fb2eac7d-f799-494b-8323-87fbb14b9646","UserID":"b5a4aea2-b935-4c82-9e0d-c535ddf87cea","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjM1MDAsImlhdCI6MTc0NTgxODcwMCwicm9sZSI6InVzZXIiLCJzdWIiOiJiNWE0YWVhMi1iOTM1LTRjODItOWUwZC1jNTM1ZGRmODdjZWEiLCJ0eXBlIjoicmVmcmVzaCJ9.SHp-c6MfhHMh_WWmiWDcWd8uDZ04S2h-OtQP3TYXTWc","CreatedAt":"2025-04-28T08:38:20.797622332+03:00"}]}
{"level":"info","ts":"2025-04-28T08:38:20.802+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 74.835894ms","context":null}
{"level":"info","ts":"2025-04-28T08:41:03.729+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:41:03.786+0300","caller":"v1/auth.go:562","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",265764]}
{"level":"info","ts":"2025-04-28T08:41:04.850+0300","caller":"v1/auth.go:584","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T08:41:04.850+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.120696815s","context":null}
{"level":"info","ts":"2025-04-28T08:41:10.976+0300","caller":"v1/auth.go:125","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:41:10.982+0300","caller":"v1/auth.go:134","msg":"Login: Got user","context":["user",{"id":"1494fe21-060b-4b45-91e5-e5a15ee9cd2e","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$b3kteIbPslt53wQkI/yeGO7.IdqeDbb/veunVS7R.20w8pooSOlAu"}]}
{"level":"info","ts":"2025-04-28T08:41:11.036+0300","caller":"v1/auth.go:147","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","1494fe21-060b-4b45-91e5-e5a15ee9cd2e","role","user"]}
{"level":"info","ts":"2025-04-28T08:41:11.036+0300","caller":"v1/auth.go:157","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MTk3NzEsImlhdCI6MTc0NTgxODg3MSwicm9sZSI6InVzZXIiLCJzdWIiOiIxNDk0ZmUyMS0wNjBiLTRiNDUtOTFlNS1lNWExNWVlOWNkMmUifQ.XAtsKLEqzxJ-RG7ZnGsxCujslHpDCzEe5ubQrWoi9Z8"]}
{"level":"info","ts":"2025-04-28T08:41:11.036+0300","caller":"v1/auth.go:159","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","1494fe21-060b-4b45-91e5-e5a15ee9cd2e","role","user"]}
{"level":"info","ts":"2025-04-28T08:41:11.036+0300","caller":"v1/auth.go:169","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjM2NzEsImlhdCI6MTc0NTgxODg3MSwicm9sZSI6InVzZXIiLCJzdWIiOiIxNDk0ZmUyMS0wNjBiLTRiNDUtOTFlNS1lNWExNWVlOWNkMmUiLCJ0eXBlIjoicmVmcmVzaCJ9.ARYJa0z5yyuKG7T7fQ8ps4mMK16URzvINTuxQWZL-UA"]}
{"level":"info","ts":"2025-04-28T08:41:11.036+0300","caller":"v1/auth.go:178","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"bdab21f4-93d1-402b-bc01-926759e91c43","UserID":"1494fe21-060b-4b45-91e5-e5a15ee9cd2e","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjM2NzEsImlhdCI6MTc0NTgxODg3MSwicm9sZSI6InVzZXIiLCJzdWIiOiIxNDk0ZmUyMS0wNjBiLTRiNDUtOTFlNS1lNWExNWVlOWNkMmUiLCJ0eXBlIjoicmVmcmVzaCJ9.ARYJa0z5yyuKG7T7fQ8ps4mMK16URzvINTuxQWZL-UA","CreatedAt":"2025-04-28T08:41:11.03633515+03:00"}]}
{"level":"info","ts":"2025-04-28T08:41:11.041+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 65.208189ms","context":null}
{"level":"info","ts":"2025-04-28T08:45:50.456+0300","caller":"v1/auth.go:84","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:45:50.513+0300","caller":"v1/auth.go:562","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",195059]}
{"level":"info","ts":"2025-04-28T08:45:51.687+0300","caller":"v1/auth.go:584","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T08:45:51.688+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.231409617s","context":null}
{"level":"info","ts":"2025-04-28T08:45:58.224+0300","caller":"v1/auth.go:125","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:45:58.229+0300","caller":"v1/auth.go:134","msg":"Login: Got user","context":["user",{"id":"1ec16b5a-dd3c-4f78-93cb-2ff9e92f2ae9","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$QgwaoER.Jozi5WhX4eHeX.uMgldKuWl43FSBeooyUSfj4WIY0uM16"}]}
{"level":"info","ts":"2025-04-28T08:45:58.279+0300","caller":"v1/auth.go:147","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","1ec16b5a-dd3c-4f78-93cb-2ff9e92f2ae9","role","user"]}
{"level":"info","ts":"2025-04-28T08:45:58.279+0300","caller":"v1/auth.go:157","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MjAwNTgsImlhdCI6MTc0NTgxOTE1OCwicm9sZSI6InVzZXIiLCJzdWIiOiIxZWMxNmI1YS1kZDNjLTRmNzgtOTNjYi0yZmY5ZTkyZjJhZTkifQ.mUuSBvT8z97uSOL04dyDDxapYMcotDTEkVRGnD-sAlg"]}
{"level":"info","ts":"2025-04-28T08:45:58.279+0300","caller":"v1/auth.go:159","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","1ec16b5a-dd3c-4f78-93cb-2ff9e92f2ae9","role","user"]}
{"level":"info","ts":"2025-04-28T08:45:58.279+0300","caller":"v1/auth.go:169","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjM5NTgsImlhdCI6MTc0NTgxOTE1OCwicm9sZSI6InVzZXIiLCJzdWIiOiIxZWMxNmI1YS1kZDNjLTRmNzgtOTNjYi0yZmY5ZTkyZjJhZTkiLCJ0eXBlIjoicmVmcmVzaCJ9.k4xbXHnxYoI-QUSIoJ_cBqtDXmDD1MQefn7BIiTMzDY"]}
{"level":"info","ts":"2025-04-28T08:45:58.279+0300","caller":"v1/auth.go:178","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"0ac78ffd-f27c-44c7-a7c0-e3daa5a27544","UserID":"1ec16b5a-dd3c-4f78-93cb-2ff9e92f2ae9","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MjM5NTgsImlhdCI6MTc0NTgxOTE1OCwicm9sZSI6InVzZXIiLCJzdWIiOiIxZWMxNmI1YS1kZDNjLTRmNzgtOTNjYi0yZmY5ZTkyZjJhZTkiLCJ0eXBlIjoicmVmcmVzaCJ9.k4xbXHnxYoI-QUSIoJ_cBqtDXmDD1MQefn7BIiTMzDY","CreatedAt":"2025-04-28T08:45:58.279940009+03:00"}]}
{"level":"info","ts":"2025-04-28T08:45:58.281+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 57.914523ms","context":null}
{"level":"info","ts":"2025-04-28T08:47:00.819+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:47:00.909+0300","caller":"v1/auth.go:91","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:47:00.909+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 90.308912ms","context":null}
{"level":"info","ts":"2025-04-28T08:47:04.621+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:47:04.625+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"1ec16b5a-dd3c-4f78-93cb-2ff9e92f2ae9","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$QgwaoER.Jozi5WhX4eHeX.uMgldKuWl43FSBeooyUSfj4WIY0uM16"}]}
{"level":"info","ts":"2025-04-28T08:47:04.676+0300","caller":"v1/auth.go:148","msg":"Login: user is not verified","context":["user",{"id":"1ec16b5a-dd3c-4f78-93cb-2ff9e92f2ae9","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$QgwaoER.Jozi5WhX4eHeX.uMgldKuWl43FSBeooyUSfj4WIY0uM16"}]}
{"level":"info","ts":"2025-04-28T08:47:04.676+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 54.591561ms","context":null}
{"level":"info","ts":"2025-04-28T08:48:46.245+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 127.044µs","context":null}
{"level":"info","ts":"2025-04-28T08:48:54.260+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"error","ts":"2025-04-28T08:48:54.261+0300","caller":"v1/auth.go:605","msg":"VerifyEmail: Failed to get code from cache","context":["err","key not found"]}
{"level":"info","ts":"2025-04-28T08:48:54.261+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 214.208µs","context":null}
{"level":"info","ts":"2025-04-28T08:49:45.825+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T08:49:45.882+0300","caller":"v1/auth.go:91","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T08:49:45.882+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 56.753263ms","context":null}
{"level":"info","ts":"2025-04-28T08:50:26.665+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:50:26.762+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",430837]}
{"level":"info","ts":"2025-04-28T08:50:27.973+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T08:50:27.974+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.30836908s","context":null}
{"level":"info","ts":"2025-04-28T08:50:33.181+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T08:50:33.184+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"d941fa7b-ee55-43e4-a824-aba07fa02354","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$VbYxMfVFKqhmm.Dl2aMp3uGpcERECr6fLz3.YUJfn9NtE7i2RADWa"}]}
{"level":"info","ts":"2025-04-28T08:50:33.234+0300","caller":"v1/auth.go:148","msg":"Login: user is not verified","context":["user",{"id":"d941fa7b-ee55-43e4-a824-aba07fa02354","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$VbYxMfVFKqhmm.Dl2aMp3uGpcERECr6fLz3.YUJfn9NtE7i2RADWa"}]}
{"level":"info","ts":"2025-04-28T08:50:33.234+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 53.579842ms","context":null}
{"level":"info","ts":"2025-04-28T08:50:53.401+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"error","ts":"2025-04-28T08:50:53.403+0300","caller":"v1/auth.go:627","msg":"VerifyEmail: Failed to update user status","context":["err","failed to update status verified: status code 405"]}
{"level":"info","ts":"2025-04-28T08:50:53.404+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 2.950571ms","context":null}
{"level":"info","ts":"2025-04-28T09:00:53.836+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T09:00:53.914+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",130741]}
{"level":"info","ts":"2025-04-28T09:00:54.985+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T09:00:54.986+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.150264168s","context":null}
{"level":"info","ts":"2025-04-28T09:01:03.077+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T09:01:03.081+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"9d5f0b6b-152c-48be-b2d4-77ee55a8dafc","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$id/venYzm3.cssxGpNbfIeD/xuFTxlEylW/8V72m5KrbAqUrUG0pW"}]}
{"level":"info","ts":"2025-04-28T09:01:03.155+0300","caller":"v1/auth.go:148","msg":"Login: user is not verified","context":["user",{"id":"9d5f0b6b-152c-48be-b2d4-77ee55a8dafc","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":false,"password_hash":"$2a$10$id/venYzm3.cssxGpNbfIeD/xuFTxlEylW/8V72m5KrbAqUrUG0pW"}]}
{"level":"info","ts":"2025-04-28T09:01:03.156+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 78.491836ms","context":null}
{"level":"info","ts":"2025-04-28T09:01:26.232+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"error","ts":"2025-04-28T09:01:26.234+0300","caller":"v1/auth.go:627","msg":"VerifyEmail: Failed to update user status","context":["err","failed to update status verified: status code 405"]}
{"level":"info","ts":"2025-04-28T09:01:26.234+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 2.386297ms","context":null}
{"level":"info","ts":"2025-04-28T09:33:06.892+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T09:33:06.995+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",175853]}
{"level":"info","ts":"2025-04-28T09:33:08.023+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T09:33:08.023+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.130697963s","context":null}
{"level":"info","ts":"2025-04-28T09:33:51.181+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"error","ts":"2025-04-28T09:33:51.190+0300","caller":"v1/auth.go:627","msg":"VerifyEmail: Failed to update user status","context":["err","failed to update status verified: status code 405"]}
{"level":"info","ts":"2025-04-28T09:33:51.190+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 8.824267ms","context":null}
{"level":"info","ts":"2025-04-28T09:41:19.080+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T09:41:19.176+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",620956]}
{"level":"info","ts":"2025-04-28T09:41:20.109+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T09:41:20.109+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.029831316s","context":null}
{"level":"info","ts":"2025-04-28T09:41:46.085+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"info","ts":"2025-04-28T09:41:46.198+0300","caller":"v1/auth.go:631","msg":"VerifyEmail: Successfully verified email","context":null}
{"level":"info","ts":"2025-04-28T09:41:46.199+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 114.192876ms","context":null}
{"level":"info","ts":"2025-04-28T09:41:54.194+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T09:41:54.200+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"c7e2e8ab-7b08-462b-a434-413a1a5b1f58","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":true,"password_hash":"$2a$10$GDMBJRGyBCsKdkQ5Hihd5eXtAII0pqm20DapzU3LwLpSggSBqofgm"}]}
{"level":"info","ts":"2025-04-28T09:41:54.286+0300","caller":"v1/auth.go:141","msg":"Login: incorrect password","context":["password","Aboba@123","userPasswordHash","$2a$10$GDMBJRGyBCsKdkQ5Hihd5eXtAII0pqm20DapzU3LwLpSggSBqofgm"]}
{"level":"info","ts":"2025-04-28T09:41:54.286+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 92.468029ms","context":null}
{"level":"info","ts":"2025-04-28T10:05:39.884+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T10:05:39.991+0300","caller":"v1/auth.go:91","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T10:05:39.991+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 107.696957ms","context":null}
{"level":"info","ts":"2025-04-28T10:06:07.526+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:06:07.553+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"c7e2e8ab-7b08-462b-a434-413a1a5b1f58","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":true,"password_hash":"$2a$10$GDMBJRGyBCsKdkQ5Hihd5eXtAII0pqm20DapzU3LwLpSggSBqofgm"}]}
{"level":"info","ts":"2025-04-28T10:06:07.652+0300","caller":"v1/auth.go:141","msg":"Login: incorrect password","context":["password","Aboba@123","userPasswordHash","$2a$10$GDMBJRGyBCsKdkQ5Hihd5eXtAII0pqm20DapzU3LwLpSggSBqofgm"]}
{"level":"info","ts":"2025-04-28T10:06:07.652+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 126.861386ms","context":null}
{"level":"info","ts":"2025-04-28T10:06:42.477+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:06:42.570+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",840511]}
{"level":"info","ts":"2025-04-28T10:06:45.249+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T10:06:45.249+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 2.772361039s","context":null}
{"level":"info","ts":"2025-04-28T10:07:18.672+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"info","ts":"2025-04-28T10:07:18.686+0300","caller":"v1/auth.go:631","msg":"VerifyEmail: Successfully verified email","context":null}
{"level":"info","ts":"2025-04-28T10:07:18.686+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 14.590688ms","context":null}
{"level":"info","ts":"2025-04-28T10:07:23.752+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:07:23.756+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"2c2f3e54-d665-4c68-896d-2bc0e049595e","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":true,"password_hash":"$2a$10$7odgm6yGy1vp2pGVKs15N.1ciHpqysvO6QEQFAPNadNJbZ0ZKoMWK"}]}
{"level":"info","ts":"2025-04-28T10:07:23.861+0300","caller":"v1/auth.go:155","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","2c2f3e54-d665-4c68-896d-2bc0e049595e","role","user"]}
{"level":"info","ts":"2025-04-28T10:07:23.861+0300","caller":"v1/auth.go:165","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MjQ5NDMsImlhdCI6MTc0NTgyNDA0Mywicm9sZSI6InVzZXIiLCJzdWIiOiIyYzJmM2U1NC1kNjY1LTRjNjgtODk2ZC0yYmMwZTA0OTU5NWUifQ.OWdBlYUCvUXjVJH1OFBsYB8NwcfBXIAk4lgq6k1WYwg"]}
{"level":"info","ts":"2025-04-28T10:07:23.861+0300","caller":"v1/auth.go:167","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","2c2f3e54-d665-4c68-896d-2bc0e049595e","role","user"]}
{"level":"info","ts":"2025-04-28T10:07:23.861+0300","caller":"v1/auth.go:177","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0Mjg4NDMsImlhdCI6MTc0NTgyNDA0Mywicm9sZSI6InVzZXIiLCJzdWIiOiIyYzJmM2U1NC1kNjY1LTRjNjgtODk2ZC0yYmMwZTA0OTU5NWUiLCJ0eXBlIjoicmVmcmVzaCJ9._F_ZAk6DCNxmsJ6fZ4DZKDUTRxSly1BKvnG-6tZt2e0"]}
{"level":"info","ts":"2025-04-28T10:07:23.861+0300","caller":"v1/auth.go:186","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"cb447ad9-91b1-43e5-8d7e-fb1327f912da","UserID":"2c2f3e54-d665-4c68-896d-2bc0e049595e","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0Mjg4NDMsImlhdCI6MTc0NTgyNDA0Mywicm9sZSI6InVzZXIiLCJzdWIiOiIyYzJmM2U1NC1kNjY1LTRjNjgtODk2ZC0yYmMwZTA0OTU5NWUiLCJ0eXBlIjoicmVmcmVzaCJ9._F_ZAk6DCNxmsJ6fZ4DZKDUTRxSly1BKvnG-6tZt2e0","CreatedAt":"2025-04-28T10:07:23.861660977+03:00"}]}
{"level":"info","ts":"2025-04-28T10:07:23.883+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 131.30466ms","context":null}
{"level":"info","ts":"2025-04-28T10:08:04.160+0300","caller":"v1/auth.go:320","msg":"ValidateToken: Usecase called; Making request to token service (ValidateToken)","context":["token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MjQ5NDMsImlhdCI6MTc0NTgyNDA0Mywicm9sZSI6InVzZXIiLCJzdWIiOiIyYzJmM2U1NC1kNjY1LTRjNjgtODk2ZC0yYmMwZTA0OTU5NWUifQ.OWdBlYUCvUXjVJH1OFBsYB8NwcfBXIAk4lgq6k1WYwg"]}
{"level":"info","ts":"2025-04-28T10:08:04.161+0300","caller":"v1/auth.go:330","msg":"ValidateToken: Got user data","context":["userID","2c2f3e54-d665-4c68-896d-2bc0e049595e","role","user"]}
{"level":"info","ts":"2025-04-28T10:08:04.161+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/validate, Duration: 387.204µs","context":null}
{"level":"info","ts":"2025-04-28T10:08:04.163+0300","caller":"v1/auth.go:320","msg":"ValidateToken: Usecase called; Making request to token service (ValidateToken)","context":["token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MjQ5NDMsImlhdCI6MTc0NTgyNDA0Mywicm9sZSI6InVzZXIiLCJzdWIiOiIyYzJmM2U1NC1kNjY1LTRjNjgtODk2ZC0yYmMwZTA0OTU5NWUifQ.OWdBlYUCvUXjVJH1OFBsYB8NwcfBXIAk4lgq6k1WYwg"]}
{"level":"info","ts":"2025-04-28T10:08:04.163+0300","caller":"v1/auth.go:330","msg":"ValidateToken: Got user data","context":["userID","2c2f3e54-d665-4c68-896d-2bc0e049595e","role","user"]}
{"level":"info","ts":"2025-04-28T10:08:04.163+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/validate, Duration: 267.984µs","context":null}
{"level":"info","ts":"2025-04-28T10:25:50.813+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"error","ts":"2025-04-28T10:25:50.908+0300","caller":"v1/auth.go:91","msg":"Register: couldn't create user","context":["err","failed to create user: status code 500"]}
{"level":"info","ts":"2025-04-28T10:25:50.908+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 95.391144ms","context":null}
{"level":"info","ts":"2025-04-28T10:26:13.910+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","aboba123","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:26:14.006+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",628666]}
{"level":"info","ts":"2025-04-28T10:26:15.442+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T10:26:15.443+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.533294253s","context":null}
{"level":"info","ts":"2025-04-28T10:27:07.237+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"info","ts":"2025-04-28T10:27:07.253+0300","caller":"v1/auth.go:631","msg":"VerifyEmail: Successfully verified email","context":null}
{"level":"info","ts":"2025-04-28T10:27:07.253+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 16.939612ms","context":null}
{"level":"info","ts":"2025-04-28T10:27:19.716+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:27:19.719+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"139ac78a-0364-48c1-b93d-7c570200cd83","username":"aboba123","email":"mpnmbn@gmail.com","role":"user","email_verified":true,"password_hash":"$2a$10$W8FSdm8TvR.QvF730R/0sO/JcTbRNsekN4o5aROHIRIPXVQIdZ3Vq"}]}
{"level":"info","ts":"2025-04-28T10:27:19.805+0300","caller":"v1/auth.go:155","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","139ac78a-0364-48c1-b93d-7c570200cd83","role","user"]}
{"level":"info","ts":"2025-04-28T10:27:19.805+0300","caller":"v1/auth.go:165","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4MjYxMzksImlhdCI6MTc0NTgyNTIzOSwicm9sZSI6InVzZXIiLCJzdWIiOiIxMzlhYzc4YS0wMzY0LTQ4YzEtYjkzZC03YzU3MDIwMGNkODMifQ.zl15Yh8G2PRc9oV1l_VvNl567-s0P1s-n9CDVECs68k"]}
{"level":"info","ts":"2025-04-28T10:27:19.805+0300","caller":"v1/auth.go:167","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","139ac78a-0364-48c1-b93d-7c570200cd83","role","user"]}
{"level":"info","ts":"2025-04-28T10:27:19.805+0300","caller":"v1/auth.go:177","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MzAwMzksImlhdCI6MTc0NTgyNTIzOSwicm9sZSI6InVzZXIiLCJzdWIiOiIxMzlhYzc4YS0wMzY0LTQ4YzEtYjkzZC03YzU3MDIwMGNkODMiLCJ0eXBlIjoicmVmcmVzaCJ9.Qo4sJAM0QL4dxTZrZkg7hI1DiQk8I8aFqWVQki-gxWA"]}
{"level":"info","ts":"2025-04-28T10:27:19.805+0300","caller":"v1/auth.go:186","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"294df4f3-9453-4b00-baf5-161344ffa958","UserID":"139ac78a-0364-48c1-b93d-7c570200cd83","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MzAwMzksImlhdCI6MTc0NTgyNTIzOSwicm9sZSI6InVzZXIiLCJzdWIiOiIxMzlhYzc4YS0wMzY0LTQ4YzEtYjkzZC03YzU3MDIwMGNkODMiLCJ0eXBlIjoicmVmcmVzaCJ9.Qo4sJAM0QL4dxTZrZkg7hI1DiQk8I8aFqWVQki-gxWA","CreatedAt":"2025-04-28T10:27:19.805926001+03:00"}]}
{"level":"info","ts":"2025-04-28T10:27:19.810+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 93.854481ms","context":null}
{"level":"info","ts":"2025-04-28T10:44:36.257+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","mpnmbn","email","mpnmbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:44:36.357+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","mpnmbn@gmail.com","code",233547]}
{"level":"info","ts":"2025-04-28T10:44:37.890+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T10:44:37.890+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 1.632796559s","context":null}
{"level":"info","ts":"2025-04-28T10:48:24.704+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","mpnmbn@gmail.com"]}
{"level":"info","ts":"2025-04-28T10:48:24.720+0300","caller":"v1/auth.go:631","msg":"VerifyEmail: Successfully verified email","context":null}
{"level":"info","ts":"2025-04-28T10:48:24.720+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 16.131599ms","context":null}
{"level":"info","ts":"2025-04-28T10:50:05.247+0300","caller":"v1/auth.go:85","msg":"Register: Usecase called; Making request to user service (CreateUser)","context":["username","asdflkj","email","wpnwbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:50:05.357+0300","caller":"v1/auth.go:570","msg":"SendVerificationEmail: Usecase called","context":["email","wpnwbn@gmail.com","code",984706]}
{"level":"info","ts":"2025-04-28T10:50:07.279+0300","caller":"v1/auth.go:592","msg":"SendVerificationEmail: Successfully sent verification email","context":null}
{"level":"info","ts":"2025-04-28T10:50:07.279+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/register, Duration: 2.032759107s","context":null}
{"level":"info","ts":"2025-04-28T10:50:44.254+0300","caller":"v1/auth.go:600","msg":"VerifyEmail: Usecase called; Making request to user service (VerifyEmail)","context":["email","wpnwbn@gmail.com"]}
{"level":"info","ts":"2025-04-28T10:50:44.263+0300","caller":"v1/auth.go:631","msg":"VerifyEmail: Successfully verified email","context":null}
{"level":"info","ts":"2025-04-28T10:50:44.263+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/verify-email, Duration: 8.666241ms","context":null}
{"level":"info","ts":"2025-04-28T10:50:51.397+0300","caller":"v1/auth.go:126","msg":"Login: Usecase called; Making request to user service (GetUserByEmail)","context":["email","wpnwbn@gmail.com","password","Aboba@123"]}
{"level":"info","ts":"2025-04-28T10:50:51.402+0300","caller":"v1/auth.go:135","msg":"Login: Got user","context":["user",{"id":"b6dd83dd-9cd8-4d92-b808-bd75eca90045","username":"asdflkj","email":"wpnwbn@gmail.com","role":"user","email_verified":true,"password_hash":"$2a$10$CL6W89NBPNNCoVUX7feBrOcMqG6pvmwNSoYTMHU7AxAXWZR/vM/w2"}]}
{"level":"info","ts":"2025-04-28T10:50:51.509+0300","caller":"v1/auth.go:155","msg":"Login: Making request to token service (GenerateAccessToken)","context":["userID","b6dd83dd-9cd8-4d92-b808-bd75eca90045","role","user"]}
{"level":"info","ts":"2025-04-28T10:50:51.509+0300","caller":"v1/auth.go:165","msg":"Login: Got access token","context":["accessToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4Mjc1NTEsImlhdCI6MTc0NTgyNjY1MSwicm9sZSI6InVzZXIiLCJzdWIiOiJiNmRkODNkZC05Y2Q4LTRkOTItYjgwOC1iZDc1ZWNhOTAwNDUifQ.XOqbw8m_QmzrbPlhQ6qO_2f-uTlHlXSJd8evAhPTI_A"]}
{"level":"info","ts":"2025-04-28T10:50:51.510+0300","caller":"v1/auth.go:167","msg":"Login: Making request to token service (GenerateRefreshToken)","context":["userID","b6dd83dd-9cd8-4d92-b808-bd75eca90045","role","user"]}
{"level":"info","ts":"2025-04-28T10:50:51.510+0300","caller":"v1/auth.go:177","msg":"Login: Got refresh token","context":["refreshToken","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MzE0NTEsImlhdCI6MTc0NTgyNjY1MSwicm9sZSI6InVzZXIiLCJzdWIiOiJiNmRkODNkZC05Y2Q4LTRkOTItYjgwOC1iZDc1ZWNhOTAwNDUiLCJ0eXBlIjoicmVmcmVzaCJ9.11iog3C1qJU6KVXPkuFX891s7aTXkdxyngvuNOEjqcQ"]}
{"level":"info","ts":"2025-04-28T10:50:51.510+0300","caller":"v1/auth.go:186","msg":"Login: Making request to token repo (Save)","context":["refreshToken",{"ID":"6a60a491-c8e6-46e8-9541-b037cb0b3d6c","UserID":"b6dd83dd-9cd8-4d92-b808-bd75eca90045","Token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDY0MzE0NTEsImlhdCI6MTc0NTgyNjY1MSwicm9sZSI6InVzZXIiLCJzdWIiOiJiNmRkODNkZC05Y2Q4LTRkOTItYjgwOC1iZDc1ZWNhOTAwNDUiLCJ0eXBlIjoicmVmcmVzaCJ9.11iog3C1qJU6KVXPkuFX891s7aTXkdxyngvuNOEjqcQ","CreatedAt":"2025-04-28T10:50:51.510073655+03:00"}]}
{"level":"info","ts":"2025-04-28T10:50:51.524+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/login, Duration: 126.802711ms","context":null}
{"level":"info","ts":"2025-04-28T10:50:55.471+0300","caller":"v1/auth.go:320","msg":"ValidateToken: Usecase called; Making request to token service (ValidateToken)","context":["token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4Mjc1NTEsImlhdCI6MTc0NTgyNjY1MSwicm9sZSI6InVzZXIiLCJzdWIiOiJiNmRkODNkZC05Y2Q4LTRkOTItYjgwOC1iZDc1ZWNhOTAwNDUifQ.XOqbw8m_QmzrbPlhQ6qO_2f-uTlHlXSJd8evAhPTI_A"]}
{"level":"info","ts":"2025-04-28T10:50:55.471+0300","caller":"v1/auth.go:330","msg":"ValidateToken: Got user data","context":["userID","b6dd83dd-9cd8-4d92-b808-bd75eca90045","role","user"]}
{"level":"info","ts":"2025-04-28T10:50:55.471+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/validate, Duration: 806.2µs","context":null}
{"level":"info","ts":"2025-04-28T10:50:55.479+0300","caller":"v1/auth.go:320","msg":"ValidateToken: Usecase called; Making request to token service (ValidateToken)","context":["token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDU4Mjc1NTEsImlhdCI6MTc0NTgyNjY1MSwicm9sZSI6InVzZXIiLCJzdWIiOiJiNmRkODNkZC05Y2Q4LTRkOTItYjgwOC1iZDc1ZWNhOTAwNDUifQ.XOqbw8m_QmzrbPlhQ6qO_2f-uTlHlXSJd8evAhPTI_A"]}
{"level":"info","ts":"2025-04-28T10:50:55.482+0300","caller":"v1/auth.go:330","msg":"ValidateToken: Got user data","context":["userID","b6dd83dd-9cd8-4d92-b808-bd75eca90045","role","user"]}
{"level":"info","ts":"2025-04-28T10:50:55.483+0300","caller":"middleware/logging.go:26","msg":"Method: POST, Path: /api/v1/validate, Duration: 4.540409ms","context":null}
